<div class="container">
  <div class="page-header">
    <h1 class="page-title">Gestion des utilisateurs</h1>
    <%= link_to "Nouvel utilisateur", new_admin_user_path, class: "btn btn-primary" %>
  </div>

  <div class="card">
    <table class="table">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Email</th>
          <th>Téléphone</th>
          <th>Rôle</th>
          <th>Inscrit le</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td><%= user.full_name %></td>
            <td><%= user.email %></td>
            <td><%= user.phone %></td>
            <td><span class="badge badge-info"><%= user.role %></span></td>
            <td><%= l(user.created_at, format: :short) %></td>
            <td>
              <div class="actions">
                <%= link_to "Modifier", edit_admin_user_path(user), class: "btn btn-sm btn-outline" %>
                <%= link_to "Supprimer", admin_user_path(user), data: { turbo_method: :delete, turbo_confirm: "Êtes-vous sûr ?" }, class: "btn btn-sm btn-danger" %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    
    <div style="margin-top: 1.5rem; text-align: center;">
      <%= paginate @users %>
    </div>
  </div>
</div>
